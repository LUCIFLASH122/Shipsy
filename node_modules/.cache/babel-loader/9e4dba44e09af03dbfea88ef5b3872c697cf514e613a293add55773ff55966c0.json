{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\revan\\\\Desktop\\\\product-crud-app\\\\src\\\\components\\\\ProductForm.jsx\",\n  _s = $RefreshSig$();\nimport { useState, useEffect } from \"react\";\nimport { db, storage } from \"../firebase\";\nimport { addDoc, collection, doc, updateDoc } from \"firebase/firestore\";\nimport { ref, uploadBytes, getDownloadURL } from \"firebase/storage\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function ProductForm({\n  selectedProduct,\n  clearEdit\n}) {\n  _s();\n  const [formData, setFormData] = useState({\n    name: \"\",\n    description: \"\",\n    category: \"Electronics\",\n    price: \"\",\n    inStock: false,\n    image: null\n  });\n  useEffect(() => {\n    if (selectedProduct) {\n      setFormData({\n        ...selectedProduct,\n        image: null\n      }); // Reset image field for edit\n    }\n  }, [selectedProduct]);\n  const handleSubmit = async e => {\n    e.preventDefault();\n    const {\n      name,\n      description,\n      category,\n      price,\n      inStock,\n      image\n    } = formData;\n    let imageUrl = (selectedProduct === null || selectedProduct === void 0 ? void 0 : selectedProduct.imageUrl) || \"\";\n    if (image) {\n      const imgRef = ref(storage, `products/${Date.now()}-${image.name}`);\n      await uploadBytes(imgRef, image);\n      imageUrl = await getDownloadURL(imgRef);\n    }\n    const payload = {\n      name,\n      description,\n      category,\n      price: parseFloat(price),\n      inStock,\n      imageUrl,\n      createdAt: new Date()\n    };\n    if (selectedProduct) {\n      const docRef = doc(db, \"products\", selectedProduct.id);\n      await updateDoc(docRef, payload);\n      clearEdit();\n    } else {\n      await addDoc(collection(db, \"products\"), payload);\n    }\n    setFormData({\n      name: \"\",\n      description: \"\",\n      category: \"Electronics\",\n      price: \"\",\n      inStock: false,\n      image: null\n    });\n  };\n  return /*#__PURE__*/_jsxDEV(\"form\", {\n    onSubmit: handleSubmit,\n    children: [\"\\xA0 \\xA0 \\xA0 \", /*#__PURE__*/_jsxDEV(\"input\", {\n      placeholder: \"Name\",\n      required: true,\n      value: formData.name,\n      onChange: e => setFormData({\n        ...formData,\n        name: e.target.value\n      })\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 7\n    }, this), \"\\xA0 \\xA0 \\xA0 \", /*#__PURE__*/_jsxDEV(\"textarea\", {\n      placeholder: \"Description\",\n      value: formData.description,\n      onChange: e => setFormData({\n        ...formData,\n        description: e.target.value\n      })\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 7\n    }, this), \"\\xA0 \\xA0 \\xA0 \", /*#__PURE__*/_jsxDEV(\"select\", {\n      value: formData.category,\n      onChange: e => setFormData({\n        ...formData,\n        category: e.target.value\n      }),\n      children: [\"\\xA0 \\xA0 \\xA0 \\xA0 \", /*#__PURE__*/_jsxDEV(\"option\", {\n        children: \"Electronics\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 9\n      }, this), \"\\xA0 \\xA0 \\xA0 \\xA0 \", /*#__PURE__*/_jsxDEV(\"option\", {\n        children: \"Clothing\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 9\n      }, this), \"\\xA0 \\xA0 \\xA0 \\xA0 \", /*#__PURE__*/_jsxDEV(\"option\", {\n        children: \"Grocery\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 9\n      }, this), \"\\xA0 \\xA0 \\xA0 \"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 7\n    }, this), \"\\xA0 \\xA0 \\xA0 \", /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"number\",\n      placeholder: \"Price\",\n      value: formData.price,\n      onChange: e => setFormData({\n        ...formData,\n        price: e.target.value\n      })\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 7\n    }, this), \"\\xA0 \\xA0 \\xA0 \", /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"checkbox-group\",\n      children: [\"\\xA0 \\xA0 \\xA0 \\xA0 \", /*#__PURE__*/_jsxDEV(\"label\", {\n        htmlFor: \"inStock\",\n        children: \"In Stock?\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 9\n      }, this), \"\\xA0 \\xA0 \\xA0 \\xA0 \", /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"checkbox\",\n        id: \"inStock\",\n        checked: formData.inStock,\n        onChange: e => setFormData({\n          ...formData,\n          inStock: e.target.checked\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 9\n      }, this), \"\\xA0 \\xA0 \\xA0 \"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 7\n    }, this), \"\\xA0 \\xA0 \\xA0 \", /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"file\",\n      accept: \"image/*\",\n      onChange: e => setFormData({\n        ...formData,\n        image: e.target.files[0]\n      })\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 7\n    }, this), \"\\xA0 \\xA0 \\xA0 \", /*#__PURE__*/_jsxDEV(\"button\", {\n      type: \"submit\",\n      children: [\"\\xA0 \\xA0 \\xA0 \\xA0 \", selectedProduct ? \"Update Product\" : \"Add Product\", \"\\xA0 \\xA0 \\xA0 \"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 7\n    }, this), \"\\xA0 \\xA0 \"]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 68,\n    columnNumber: 5\n  }, this);\n}\n_s(ProductForm, \"K5wFU+gCT/vroPYzzXDnIvrpGjs=\");\n_c = ProductForm;\nvar _c;\n$RefreshReg$(_c, \"ProductForm\");","map":{"version":3,"names":["useState","useEffect","db","storage","addDoc","collection","doc","updateDoc","ref","uploadBytes","getDownloadURL","jsxDEV","_jsxDEV","ProductForm","selectedProduct","clearEdit","_s","formData","setFormData","name","description","category","price","inStock","image","handleSubmit","e","preventDefault","imageUrl","imgRef","Date","now","payload","parseFloat","createdAt","docRef","id","onSubmit","children","placeholder","required","value","onChange","target","fileName","_jsxFileName","lineNumber","columnNumber","type","className","htmlFor","checked","accept","files","_c","$RefreshReg$"],"sources":["C:/Users/revan/Desktop/product-crud-app/src/components/ProductForm.jsx"],"sourcesContent":["import { useState, useEffect } from \"react\";\nimport { db, storage } from \"../firebase\";\nimport {\n  addDoc,\n  collection,\n  doc,\n  updateDoc,\n} from \"firebase/firestore\";\nimport { ref, uploadBytes, getDownloadURL } from \"firebase/storage\";\n\nexport default function ProductForm({ selectedProduct, clearEdit }) {\n  const [formData, setFormData] = useState({\n    name: \"\",\n    description: \"\",\n    category: \"Electronics\",\n    price: \"\",\n    inStock: false,\n    image: null,\n  });\n\n  useEffect(() => {\n    if (selectedProduct) {\n      setFormData({ ...selectedProduct, image: null }); // Reset image field for edit\n    }\n  }, [selectedProduct]);\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    const { name, description, category, price, inStock, image } = formData;\n\n    let imageUrl = selectedProduct?.imageUrl || \"\";\n\n    if (image) {\n      const imgRef = ref(storage, `products/${Date.now()}-${image.name}`);\n      await uploadBytes(imgRef, image);\n      imageUrl = await getDownloadURL(imgRef);\n    }\n\n    const payload = {\n      name,\n      description,\n      category,\n      price: parseFloat(price),\n      inStock,\n      imageUrl,\n      createdAt: new Date(),\n    };\n\n    if (selectedProduct) {\n      const docRef = doc(db, \"products\", selectedProduct.id);\n      await updateDoc(docRef, payload);\n      clearEdit();\n    } else {\n      await addDoc(collection(db, \"products\"), payload);\n    }\n\n    setFormData({\n      name: \"\",\n      description: \"\",\n      category: \"Electronics\",\n      price: \"\",\n      inStock: false,\n      image: null,\n    });\n  };\n\n  return (\n    <form onSubmit={handleSubmit}>\n      <input\n        placeholder=\"Name\"\n        required\n        value={formData.name}\n        onChange={(e) => setFormData({ ...formData, name: e.target.value })}\n      />\n\n      <textarea\n        placeholder=\"Description\"\n        value={formData.description}\n        onChange={(e) =>\n          setFormData({ ...formData, description: e.target.value })\n        }\n      />\n\n      <select\n        value={formData.category}\n        onChange={(e) => setFormData({ ...formData, category: e.target.value })}\n      >\n        <option>Electronics</option>\n        <option>Clothing</option>\n        <option>Grocery</option>\n      </select>\n\n      <input\n        type=\"number\"\n        placeholder=\"Price\"\n        value={formData.price}\n        onChange={(e) => setFormData({ ...formData, price: e.target.value })}\n      />\n\n      <div className=\"checkbox-group\">\n        <label htmlFor=\"inStock\">In Stock?</label>\n        <input\n          type=\"checkbox\"\n          id=\"inStock\"\n          checked={formData.inStock}\n          onChange={(e) =>\n            setFormData({ ...formData, inStock: e.target.checked })\n          }\n        />\n      </div>\n\n      <input\n        type=\"file\"\n        accept=\"image/*\"\n        onChange={(e) =>\n          setFormData({ ...formData, image: e.target.files[0] })\n        }\n      />\n\n      <button type=\"submit\">\n        {selectedProduct ? \"Update Product\" : \"Add Product\"}\n      </button>\n    </form>\n  );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}